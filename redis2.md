# Миниатюрный Redis на Python

## Идея проекта
- Написание простого серверного хранилища данных для очереди задач Huey
- Цель: использование Redis-подобного хранилища для отслеживания заданий и результатов

## Структура сервера
- Сервер с callback-функциями для обработки подключений
- Логика обработки запросов и отправки ответов клиентам

## Обработка протокола
- Реализация протокола Redis для сериализации данных
- Класс `ProtocolHandler` для:
  - Разбора входящих запросов
  - Формирования ответов клиентам
![Класс `ProtocolHandler`](journal.png)

## Выполнение команд
- Метод `get_response()` для исполнения клиентских команд
- Система сопоставления команд с соответствующими обработчиками

```python
def get_response(self, command, *args):
    handler = self.command_handlers.get(command)
    if not handler:
        raise ProtocolError(f"Неизвестная команда: {command}")
    return handler(*args)
```

## Обработка исключений

- Использование исключений для уведомлений о проблемах
- Обработка отключений клиентов и ошибок при обработке команд

## Преимущества разделения задач

- Обработка протокола в отдельном классе для повторного использования
- Использование файлообразной оболочки для абстрагирования от сокетов


## Клиент для взаимодействия с сервером

- Клиент использует класс Обработчик протоколов для взаимодействия с сервером.
- Клиент отправляет команды, закодированные в виде списков, и анализирует ответы сервера.
- Клиентские методы включают получение, установку, удаление, очистку, многопоточное получение и многопоточную установку.

## Тестирование сервера и клиента

- Для тестирования сервера можно использовать Python для загрузки сервера из мобильной сети.
- Клиент можно импортировать из модуля сервера и запускать команды.
- Пример использования клиента для выполнения команд и получения ответов.

## Заключение

- Проект успешно реализован, сервер поддерживает основные команды Redis
- Код доступен для ознакомления и дальнейшего изучения
